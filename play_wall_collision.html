<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			.box {
				width: 500px;
				height: 300px;
				border: 1px solid brown;
				position: relative;
			}			
			.ball {
				width: 20px;
				height: 20px;
				background: cyan;
				border-radius: 50%;
				position: relative;
			}
			#woodern{
				width: 80px;
				height: 10px;
				background: orange;
				position: absolute;
				bottom: 10px;
			}
		</style>
	</head>

	<body>
		<div class="box">
			<div class="ball">

			</div>
			<div id="woodern">
				
			</div>
		</div>
	</body>
	<script type="text/javascript">
		var box = document.querySelector('.box'); //盒子
		var ball = document.querySelector('.ball'); //球
		var woodern = document.getElementById('woodern');	
		var i = 0;
		var speed=40;	
		document.onkeydown = function() {
			var event = window.event || event;
			switch(event.keyCode){
				case 37:
				woodern.style.left=woodern.offsetLeft-speed+'px';
				if(woodern.offsetLeft<0){
				woodern.style.left='0px'
				}
				break;
				case 39:
				woodern.style.left=woodern.offsetLeft+speed+'px';
				if(woodern.offsetLeft>box.offsetWidth-woodern.offsetWidth){
					woodern.style.left=box.offsetWidth-woodern.offsetWidth-2+'px'
				}
				break;
				case 38:
				woodern.style.top=woodern.offsetTop-speed+'px';
				console.log(box.offsetHeight)
				console.log(woodern.offsetTop)
				if(woodern.offsetTop<0){
					woodern.style.top=0;
				}
				break;
				case 40:
				woodern.style.top=woodern.offsetTop+speed+'px';			
				if(woodern.offsetTop>box.offsetHeight){
					woodern.style.top=box.offsetHeight-woodern.offsetHeight-10+'px'
				}
				break;
				default:
				break;
			}
		}	
		//速度变量
		var speedX = 2;
		var speedY = 2;
		var time = 10; //以毫秒为单位
		//偏移总量
		var x = 0;
		var y = 0;
		function ballmove() {
			x += speedX;
			y += speedY;
			var x_width = box.offsetWidth - ball.offsetWidth;
			var y_height = box.offsetHeight - ball.offsetHeight;
			ball.style.transform = 'translate(' + x + 'px,' + y + 'px)'
			ball.style.transform = 'translate(' + x + 'px,' + y + 'px)'			
			var h=woodern.offsetTop;
			if(x > x_width || x < 0) {
				console.log("出去了");
				speedX = -speedX;
			}
			if(y >y_height || y < 0) {
				speedY = -speedY;						
			}
			if(y+ball.offsetHeight>=woodern.offsetTop&&x<woodern.offsetLeft+woodern.offsetWidth&&x>woodern.offsetLeft)
			{
				speedY = -speedY;						
				
			}
		}
		function auto() {
			timer = setInterval('ballmove()', time)
		}
		auto();
		//绑定鼠标事件
//		ball.onmouseover = function() {
//			clearInterval(timer)
//		}
//		ball.onmouseout = auto;
	</script>

</html>